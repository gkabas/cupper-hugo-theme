const yourCustomFunction01 = (message) => {
  console.log(message);
};

function pdf1() {
    window.open("https://gkabas.netlify.app/files/BenincasaKabasOngena.pdf", "_blank");
    }

function ssrn1() {
    window.open("https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4075737", "_blank");
    }

function pdf2() {
    window.open("https://gkabas.netlify.app/files/KabasRoszbach2021.pdf", "_blank");
    }

function ssrn2() {
    window.open("https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3835232", "_blank");
    }

function pdf3() {
    window.open("https://gkabas.netlify.app/files/ArslanDegerliKabas.pdf", "_blank");
    }

function ssrn3() {
    window.open("https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3280437", "_blank");
    }
function published3() {
    window.open("https://doi.org/10.1287/mnsc.2022.03217", "_blank");
    }

function pdf4() {
    window.open("https://gkabas.netlify.app/files/DoerrKabasOngena.pdf", "_blank");
    }

function ssrn4() {
    window.open("https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3430184", "_blank");
    }

function published4() {
    window.open("https://doi.org/10.1017/S0022109023001011", "_blank");
    }


function pdf5() {
    window.open("https://gkabas.netlify.app/files/UI_ADGKK.pdf", "_blank");
    }

function ssrn5() {
    window.open("https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4915102", "_blank");
    }

function pdf6() {
    window.open("https://gkabas.netlify.app/files/UI_ADGKK.pdf", "_blank");
    }

function ssrn6() {
    window.open("https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4915102", "_blank");
    }

function dis1() {
    window.open("https://gkabas.netlify.app/files/KabasDiscussion_NB2023.pdf", "_blank");
    }

function dis2() {
    window.open("https://gkabas.netlify.app/files/KabasDiscussion_TFS2024.pdf", "_blank");
    }

function dis3() {
    window.open("https://gkabas.netlify.app/files/KabasDiscussion_Bristol2024.pdf", "_blank");
    }

function abs1() {
  var x = document.getElementById("abs1");
  var y = document.getElementById("fig1");
  var z = document.getElementById("pres1");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}


function abs2() {
  var x = document.getElementById("abs2");
  var y = document.getElementById("fig2");
  var z = document.getElementById("pres2");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}



function abs3() {
  var x = document.getElementById("abs3");
  var y = document.getElementById("fig3");
  var z = document.getElementById("pres3");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}


function abs4() {
  var x = document.getElementById("abs4");
  var y = document.getElementById("fig4");
  var z = document.getElementById("pres4");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}


function abs5() {
  var x = document.getElementById("abs5");
  var y = document.getElementById("fig5");
  var z = document.getElementById("pres5");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}

function abs6() {
  var x = document.getElementById("abs6");
  var y = document.getElementById("pdf6");
  var z = document.getElementById("pres6");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}

function abs7() {
  var x = document.getElementById("abs7");
  var y = document.getElementById("pdf7");
  var z = document.getElementById("pres7");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
  if (y.style.display === "block") {
    y.style.display = "none";
  } else {
     }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
     }
}


function fig1() {
  var x = document.getElementById("fig1");
  var y = document.getElementById("abs1");
  var z = document.getElementById("pres1");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function fig2() {
  var x = document.getElementById("fig2");
  var y = document.getElementById("abs2");
  var z = document.getElementById("pres2");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function fig3() {
  var x = document.getElementById("fig3");
  var y = document.getElementById("abs3");
  var z = document.getElementById("pres3");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}


function fig4() {
  var x = document.getElementById("fig4");
  var y = document.getElementById("abs4");
  var z = document.getElementById("pres4");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function fig5() {
  var x = document.getElementById("fig5");
  var y = document.getElementById("abs5");
  var z = document.getElementById("pres5");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function fig6() {
  var x = document.getElementById("pdf6");
  var y = document.getElementById("abs6");
  var z = document.getElementById("pres6");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}


function fig7() {
  var x = document.getElementById("pdf7");
  var y = document.getElementById("abs7");
  var z = document.getElementById("pres7");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}



function pres1() {
  var x = document.getElementById("pres1");
  var y = document.getElementById("abs1");
  var z = document.getElementById("fig1");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}
function pres2() {
  var x = document.getElementById("pres2");
  var y = document.getElementById("abs2");
  var z = document.getElementById("fig2");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}
function pres3() {
  var x = document.getElementById("pres3");
  var y = document.getElementById("abs3");
  var z = document.getElementById("fig3");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}
function pres4() {
  var x = document.getElementById("pres4");
  var y = document.getElementById("abs4");
  var z = document.getElementById("fig4");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function pres5() {
  var x = document.getElementById("pres5");
  var y = document.getElementById("abs5");
  var z = document.getElementById("fig5");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function pres6() {
  var x = document.getElementById("pres6");
  var y = document.getElementById("abs6");
  var z = document.getElementById("pdf6");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function pres7() {
  var x = document.getElementById("pres7");
  var y = document.getElementById("abs7");
  var z = document.getElementById("pdf7");
   if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
   if (y.style.display === "block") {
    y.style.display = "none";
  } else {
    y.style.display = "none";
  }
  if (z.style.display === "block") {
    z.style.display = "none";
  } else {
    z.style.display = "none";
  }
}

function initializeDisplay() {
  document.getElementById("abs6").style.display = "none";
  document.getElementById("pdf6").style.display = "none";
  document.getElementById("pres6").style.display = "none";
  document.getElementById("abs7").style.display = "none";
  document.getElementById("pdf7").style.display = "none";
  document.getElementById("pres7").style.display = "none";
}

// This part onwards is for the Main Results button with PDFs
let pdfDoc = null;
let pageNum = 1; // Start with the first slide
let pageCount = 0; // Total number of pages in the PDF

function loadPDF6() {
  const url = "https://gazikabas.netlify.app/files/ETS.pdf"; // PDF URL
  const pdfViewer = document.getElementById("pdf6");

  const renderPage = (num) => {
    pdfDoc.getPage(num).then((page) => {
      const scale = 1; // Adjust scale for slide size
      const viewport = page.getViewport({ scale });
      const canvas = document.createElement("canvas");
      const context = canvas.getContext("2d");

      canvas.height = viewport.height;
      canvas.width = viewport.width;

      pdfViewer.innerHTML = ""; // Clear previous slide
      pdfViewer.appendChild(canvas);

      const renderContext = {
        canvasContext: context,
        viewport: viewport,
      };

      page.render(renderContext);
    }).catch((error) => {
      console.error("Error rendering page:", error);
      pdfViewer.innerHTML = "<p>Error rendering this page.</p>";
    });
  };

  const loadingTask = pdfjsLib.getDocument(url);
  loadingTask.promise
    .then((pdf) => {
      pdfDoc = pdf;
      pageCount = pdf.numPages; // Set total number of slides
      renderPage(pageNum); // Render the first slide
    })
    .catch((error) => {
      console.error("Error loading PDF:", error);
      pdfViewer.innerHTML = "<p>Unable to load PDF. Please check the file URL.</p>";
    });
}


function showPDFWithSlides6() {
  const pdfContainer = document.getElementById("pdf6");
  const navContainer = document.getElementById("pdf-navigation");
  const absContainer = document.getElementById("abs6");
  const presContainer = document.getElementById("pres6");

  // Toggle PDF container visibility
  if (pdfContainer.style.display === "block") {
    pdfContainer.style.display = "none";
    navContainer.style.display = "none"; // Hide navigation buttons
  } else {
    pdfContainer.style.display = "block";
    navContainer.style.display = "block"; // Show navigation buttons
    absContainer.style.display = "none";
    presContainer.style.display = "none";

    // Load PDF only if not already loaded
    if (!pdfContainer.dataset.loaded) {
      loadPDF();
      pdfContainer.dataset.loaded = "true";
    }
  }
}

function nextSlide() {
  if (pageNum < pageCount) {
    pageNum++;
    loadSlide();
  }
}

function prevSlide() {
  if (pageNum > 1) {
    pageNum--;
    loadSlide();
  }
}

function loadSlide() {
  const pdfViewer = document.getElementById("pdf6");
  pdfDoc.getPage(pageNum).then((page) => {
    const scale = 1; // Adjust scale for slide size
    const viewport = page.getViewport({ scale });
    const canvas = document.createElement("canvas");
    const context = canvas.getContext("2d");

    canvas.height = viewport.height;
    canvas.width = viewport.width;

    pdfViewer.innerHTML = ""; // Clear previous slide
    pdfViewer.appendChild(canvas);

    const renderContext = {
      canvasContext: context,
      viewport: viewport,
    };

    page.render(renderContext);
  }).catch((error) => {
    console.error("Error rendering slide:", error);
    pdfViewer.innerHTML = "<p>Error rendering this slide.</p>";
  });
}

function showPDF7() {
  const pdfContainer = document.getElementById("pdf7");
  const absContainer = document.getElementById("abs7");
  const presContainer = document.getElementById("pres7");

  // Toggle PDF container visibility
  if (pdfContainer.style.display === "block") {
    pdfContainer.style.display = "none";
  } else {
    pdfContainer.style.display = "block";
    absContainer.style.display = "none";
    presContainer.style.display = "none";

    // Load PDF only if not already loaded
    if (!pdfContainer.dataset.loaded) {
      loadPDF7();
      pdfContainer.dataset.loaded = "true";
    }
  }
}

function loadPDF7() {
  const url = "https://gazikabas.netlify.app/files/ETS_2.pdf"; // Update PDF URL
  const pdfViewer = document.getElementById("pdf7");
  let pdfDoc = null;
  let pageNum = 1;

  const renderPage = (num) => {
    pdfDoc.getPage(num).then((page) => {
      const scale = 1; // Adjust scale for PDF size
      const viewport = page.getViewport({ scale });
      const canvas = document.createElement("canvas");
      const context = canvas.getContext("2d");

      canvas.height = viewport.height;
      canvas.width = viewport.width;

      pdfViewer.innerHTML = ""; // Clear the viewer
      pdfViewer.appendChild(canvas);

      const renderContext = {
        canvasContext: context,
        viewport: viewport,
      };

      page.render(renderContext);
    }).catch((error) => {
      console.error("Error rendering page:", error);
      pdfViewer.innerHTML = "<p>Error rendering this page.</p>";
    });
  };

  const loadingTask = pdfjsLib.getDocument(url);
  loadingTask.promise
    .then((pdf) => {
      pdfDoc = pdf;
      renderPage(pageNum);
    })
    .catch((error) => {
      console.error("Error loading PDF:", error);
      pdfViewer.innerHTML = "<p>Unable to load PDF. Please check the file URL.</p>";
    });
}

// Initialize displays when the page loads
window.onload = initializeDisplay;

function updateButtonText() {
  const buttons = [
    {
      id: "main-results-fig1",
      smallText: "Abs.",
      largeText: "Abstract",
    },
     {
      id: "main-results-fig2",
      smallText: "Abs.",
      largeText: "Abstract",
    },
     {
      id: "main-results-fig3",
      smallText: "Abs.",
      largeText: "Abstract",
    },
     {
      id: "main-results-fig4",
      smallText: "Abs.",
      largeText: "Abstract",
    },
     {
      id: "main-results-fig5",
      smallText: "Abs.",
      largeText: "Abstract",
    },
    {
      id: "main-results-fig6",
      smallText: "Abs.",
      largeText: "Abstract",
    },
     {
      id: "main-results-fig7",
      smallText: "Abs.",
      largeText: "Abstract",
    },
    {
      id: "main-results-res1",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-res2",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-res3",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-res4",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-res5",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-res6",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-res7",
      smallText: "Results",
      largeText: "Main Results",
    },
    {
      id: "main-results-pres1",
      smallText: "Pres.",
      largeText: "Presentations",
    },
     {
      id: "main-results-pres2",
      smallText: "Pres.",
      largeText: "Presentations",
    },
     {
      id: "main-results-pres3",
      smallText: "Pres.",
      largeText: "Presentations",
    },
     {
      id: "main-results-pres4",
      smallText: "Pres.",
      largeText: "Presentations",
    },
     {
      id: "main-results-pres5",
      smallText: "Pres.",
      largeText: "Presentations",
    },
     {
      id: "main-results-pres6",
      smallText: "Pres.",
      largeText: "Presentations",
    },
    {
      id: "main-results-pres7",
      smallText: "Pres.",
      largeText: "Presentations",
    },
  ];

  buttons.forEach((button) => {
    const element = document.getElementById(button.id);
    if (element) {
      if (window.matchMedia("(max-width: 768px)").matches) {
        element.textContent = button.smallText;
      } else {
        element.textContent = button.largeText;
      }
    }
  });
}

// Initial check when the page loads
updateButtonText();

// Update button text when the window is resized
window.addEventListener("resize", updateButtonText);

let slideIndex = [1,1,1,1,1];
let slideId = ["mySlides1", "mySlides2", "mySlides3", "mySlides4", "mySlides5"]
showSlides(1, 0);
showSlides(1, 1);
showSlides(1, 2);
showSlides(1, 3);
showSlides(1, 4);

function plusSlides(n, no) {
  showSlides(slideIndex[no] += n, no);
}

//function showSlides(n, no) {
//  let i;
//  let x = document.getElementsByClassName(slideId[no]);
//  if (n > x.length) {slideIndex[no] = 1}    
//  if (n < 1) {slideIndex[no] = x.length}
//  for (i = 0; i < x.length; i++) {
//     x[i].style.display = "none";  
//  }
//  x[slideIndex[no]-1].style.display = "block";  
//}

function showSlides(n, no) {
  let i;

  // Check if slideId and slideIndex are defined
  if (!slideId || !slideId[no]) {
    console.error(`slideId[${no}] is undefined. Ensure slideId is properly initialized.`);
    return;
  }
  if (!slideIndex || typeof slideIndex[no] === 'undefined') {
    console.error(`slideIndex[${no}] is undefined. Ensure slideIndex is properly initialized.`);
    return;
  }

  // Get slides for the specified group
  let x = document.getElementsByClassName(slideId[no]);
  if (x.length === 0) {
    console.error(`No slides found for slideId[${no}] (${slideId[no]}).`);
    return;
  }

  // Handle slide index out of bounds
  if (n > x.length) {
    slideIndex[no] = 1; // Loop back to first slide
  }
  if (n < 1) {
    slideIndex[no] = x.length; // Loop back to last slide
  }

  // Hide all slides in the group
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }

  // Show the current slide
  x[slideIndex[no] - 1].style.display = "block";
}
